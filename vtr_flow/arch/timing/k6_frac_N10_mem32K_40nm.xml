<!-- 
  Flagship Heterogeneous Architecture (No Carry Chains) for VTR 7.0.

  - 40 nm technology
  - General purpose logic block: K = 6, N = 10, fracturable 6 LUTs (can operate as one 6-LUT or two 5-LUTs with all 5 inputs shared) with optionally registered outputs
  - Memory size 32 Kbits, memory aspect ratios vary from a data width of 1 to data width of 64.  Height = 6, found on every (8n+2)th column
  - Multiplier modes: one 36x36, two 18x18, each 18x18 can also operate as two 9x9.  Height = 4, found on every (8n+6)th column
  - Routing architecture: L = 4, fc_in = 0.15, Fc_out = 0.1

  Details on Modelling:

  The electrical design of the architecture described here is NOT from an optimized, SPICED architecture.  Instead, we attempt to create a reasonable architecture file by using an existing commercial FPGA to approximate the area, delay, and power of the underlying components.  The following describes, in detail, how we obtained the various electrical parameters values for this architecture.

  Rmin for nmos and pmos, routing buffer sizes, and I/O pad delays from ifar architecture: K06 N10 45nm fc 0.15 area-delay optimized architecture, scaled to 40 nm using linear scaling (n10k06l04.fc15.area1delay1.cmos45nm.bptm.cmos45nm.xml)      

  Delay numbers obtained by measuring delays of routing, soft logic blocks, memories, and multipliers from test circuits on a Stratix IV GX device (EP4SGX230DF29C2X).
  For routing, we measured took the average delay of H4 and V4 wires.  R and C values were obtained from work done by Charles Chiasson.
  For the general purpose logic block, we assume that the area and delay of the Stratix IV crossbar will be close enough to the full crossbar modelled here.  This assumption can be broadly justified as the Stratix IV crossbar has more inputs and outputs than our full crossbar so we expect that this roughly balances out the area/delay gain from going sparse.
  For LUTs, we include LUT delays measured from Stratix IV which is dependant on the input used (ie. some LUT inputs are faster than others).  The CAD tools at the time of VTR 7 does not consider differences in LUT input delays.

  Logic block area numbers obtained by scaling overall tile area of a 65nm Stratix III device to 40 nm, then subtracting out routing area at a channel width of 300.

  Sanity checks employed:
    1.  Routing buffer delay ~1/3rd of total routing delay.


  Authors: Jason Luu, Jeff Goeders, Vaughn Betz
-->
  
  <architecture>
  
  <!-- ODIN II specific config begins 
       Describes the types of netlist blocks (in blif, this corresponds to ".model [type_of_block]") that this architecture supports.
  -->
  <models>
    <model name="multiply">
      <input_ports>
      <port name="a"/>
      <port name="b"/>
      </input_ports>
      <output_ports>
      <port name="out"/>
      </output_ports>
    </model>
    
    <model name="single_port_ram">
      <input_ports>
      <port name="we"/>     <!-- control -->
      <port name="addr"/>  <!-- address lines -->
      <port name="data"/>  <!-- data lines can be broken down into smaller bit widths minimum size 1 -->
      <port name="clk" is_clock="1"/>  <!-- memories are often clocked -->
      </input_ports>
      <output_ports>
      <port name="out"/>   <!-- output can be broken down into smaller bit widths minimum size 1 -->
      </output_ports>
    </model>

    <model name="dual_port_ram">
      <input_ports>
      <port name="we1"/>     <!-- write enable -->
      <port name="we2"/>     <!-- write enable -->
      <port name="addr1"/>  <!-- address lines -->
      <port name="addr2"/>  <!-- address lines -->
      <port name="data1"/>  <!-- data lines can be broken down into smaller bit widths minimum size 1 -->
      <port name="data2"/>  <!-- data lines can be broken down into smaller bit widths minimum size 1 -->
      <port name="clk" is_clock="1"/>  <!-- memories are often clocked -->
      </input_ports>
      <output_ports>
      <port name="out1"/>   <!-- output can be broken down into smaller bit widths minimum size 1 -->
      <port name="out2"/>   <!-- output can be broken down into smaller bit widths minimum size 1 -->
      </output_ports>
    </model>

  </models>
  <!-- ODIN II specific config ends -->
 
  <!-- Physical descriptions begin -->
  <layout auto="1.0"/>

  		<device>
			<!-- VB & JL: Using Ian Kuon's transistor sizing and drive strength data for routing, at 40 nm. Ian used BPTM 
			     models. We are modifying the delay values however, to include metal C and R, which allows more architecture
			     experimentation. The delay values are lined up with Stratix IV, which has an architecture similar to this
			     proposed FPGA, and which is also 40 nm -->
			<sizing R_minW_nmos="6065.520020" R_minW_pmos="18138.500000" ipin_mux_trans_size="1.222260"/>
			<timing C_ipin_cblock="1.7e-15" T_ipin_cblock="7.247000e-11"/>
			<area grid_logic_tile_area="TODO: Jason Luu needs to find this value!"/>
			<!-- Total Stratix IV tile area is about 8100 um^2 -->
			<chan_width_distr>
				<io width="1.000000"/>
				<x distr="uniform" peak="1.000000"/>
				<y distr="uniform" peak="1.000000"/>
			</chan_width_distr>
			<switch_block type="wilton" fs="3"/>
		</device>
		<switchlist>
			<!-- VB & JL: we reverse engineered this buffer to be 11x minimum drive, 2 stage. pmos is 33x minimum drive.
			     first stage is assumed to be 3x min drive n and p. Took Cgate and Cdiff from Charles' 22 nm data, and 
			     scaled up by 2.45x which is (40/22)^1.5 -->
			<switch type="mux" name="0" R="551" Cin=".32e-15" Cout="3.5e-15" Tdel="46e-12" mux_trans_size="2.630740" buf_size="27.645901"/>
		</switchlist>
		<segmentlist>
			<!--- VB & JL: using ITRS metal stack data, 96 nm half pitch wires, which are intermediate metal width/space.  
			     Increasing the capacitance by 15% to account for crosstalk and to better match SIV routing delays.
			     such wires would take 60 um of height, vs. a 90 nm high (approximated as square) Stratix IV tile so this seems
			     reasonable. Using a tile length of 90 nm, corresponding to the length of a Stratix IV tile if it were square. -->
			<segment freq="1.000000" length="4" type="unidir" Rmetal="101" Cmetal="26e-15">
			<mux name="0"/>
			<sb type="pattern">1 1 1 1 1</sb>
			<cb type="pattern">1 1 1 1</cb>
			</segment>
		</segmentlist>

		<complexblocklist>
      
      <!-- Define I/O pads begin -->
      <!-- Capacity is a unique property of I/Os, it is the maximum number of I/Os that can be placed at the same (X,Y) location on the FPGA -->
      <pb_type name="io" capacity="8">
        <input name="outpad" num_pins="1"/>
        <output name="inpad" num_pins="1"/>
        <clock name="clock" num_pins="1"/>

        <!-- IOs can operate as either inputs or outputs -->
        <mode name="inpad">
          <pb_type name="inpad" blif_model=".input" num_pb="1">
            <output name="inpad" num_pins="1"/>
          </pb_type>
          <interconnect>
            <direct name="inpad" input="inpad.inpad" output="io.inpad">
            <delay_constant max="4.243e-11" in_port="inpad.inpad" out_port="io.inpad"/>
            </direct>
          </interconnect>
      
        </mode>
        <mode name="outpad">
          <pb_type name="outpad" blif_model=".output" num_pb="1">
            <input name="outpad" num_pins="1"/>
          </pb_type>
          <interconnect>
            <direct name="outpad" input="io.outpad" output="outpad.outpad">
            <delay_constant max="1.394e-11" in_port="io.outpad" out_port="outpad.outpad"/>
            </direct>
          </interconnect>
        </mode>

        <fc default_in_type="frac" default_in_val="0.15" default_out_type="frac" default_out_val="0.10"/>

        <!-- IOs go on the periphery of the FPGA, for consistency, 
          make it physically equivalent on all sides so that only one definition of I/Os is needed.
          If I do not make a physically equivalent definition, then I need to define 4 different I/Os, one for each side of the FPGA
        -->
        <pinlocations pattern="custom">
          <loc side="left">io.outpad io.inpad io.clock</loc>
          <loc side="top">io.outpad io.inpad io.clock</loc>
          <loc side="right">io.outpad io.inpad io.clock</loc>
          <loc side="bottom">io.outpad io.inpad io.clock</loc>
        </pinlocations>

        <gridlocations>
          <loc type="perimeter" priority="10"/>
        </gridlocations>

      </pb_type>
      <!-- Define I/O pads ends -->

      <!-- Define general purpose logic block (CLB) begin -->
      <pb_type name="clb">
        <input name="I" num_pins="33" equivalent="true"/>
        <output name="O" num_pins="20" equivalent="false"/>
        <clock name="clk" num_pins="1"/>

        <!-- Describe fracturable logic element.  
             Each fracturable logic element has a 6-LUT that can alternatively operate as two 5-LUTs with shared inputs. 
             The outputs of the fracturable logic element can be optionally registered
        -->
        <pb_type name="fle" num_pb="10">
          <input name="in" num_pins="6"/>
          <output name="out" num_pins="2"/>
          <clock name="clk" num_pins="1"/>

          <!-- Dual 5-LUT mode definition begin -->
          <mode name="n2_lut5">
            <pb_type name="lut5inter" num_pb="1">
              <input name="in" num_pins="5"/>
              <output name="out" num_pins="2"/>
              <clock name="clk" num_pins="1"/>
              <pb_type name="ble5" num_pb="2">
                <input name="in" num_pins="5"/>
                <output name="out" num_pins="1"/>
                <clock name="clk" num_pins="1"/> 

                <!-- Define the LUT -->
                <pb_type name="lut5" blif_model=".names" num_pb="1" class="lut">
                  <input name="in" num_pins="5" port_class="lut_in"/>
                  <output name="out" num_pins="1" port_class="lut_out"/>
                  <!-- LUT timing using delay matrix -->
                  <delay_matrix type="max" in_port="lut5.in" out_port="lut5.out">
                    82e-12
                    173e-12
                    261e-12
                    263e-12
                    398e-12
                  </delay_matrix>
                </pb_type>

                <!-- Define the flip-flop -->
                <pb_type name="ff" blif_model=".latch" num_pb="1" class="flipflop">
                  <input name="D" num_pins="1" port_class="D"/>
                  <output name="Q" num_pins="1" port_class="Q"/>
                  <clock name="clk" num_pins="1" port_class="clock"/>
                  <T_setup value="66e-12" port="ff.D" clock="clk"/>
                  <T_clock_to_Q max="124e-12" port="ff.Q" clock="clk"/>
                </pb_type>

                <interconnect>
                  <direct name="direct1" input="ble5.in[4:0]" output="lut5[0:0].in[4:0]"/>
                  <direct name="direct2" input="lut5[0:0].out" output="ff[0:0].D">
                    <pack_pattern name="ble5" in_port="lut5[0:0].out" out_port="ff[0:0].D"/>
                  </direct>
                  <direct name="direct3" input="ble5.clk" output="ff[0:0].clk"/>                    
                  <mux name="mux1" input="ff[0:0].Q lut5.out[0:0]" output="ble5.out[0:0]">
                    <delay_constant max="25e-12" in_port="lut5.out[0:0]" out_port="ble5.out[0:0]" />
                    <delay_constant max="45e-12" in_port="ff[0:0].Q" out_port="ble5.out[0:0]" />
                  </mux>
                </interconnect>
              </pb_type>
              <interconnect>
                <direct name="direct1" input="lut5inter.in" output="ble5[0:0].in"/>
                <direct name="direct2" input="lut5inter.in" output="ble5[1:1].in"/>
                <direct name="direct3" input="ble5[1:0].out" output="lut5inter.out"/>                 
                <complete name="complete1" input="lut5inter.clk" output="ble5[1:0].clk"/>                  
              </interconnect>
            </pb_type>
            <interconnect>
              <direct name="direct1" input="fle.in[4:0]" output="lut5inter.in"/>
              <direct name="direct2" input="lut5inter.out" output="fle.out"/>
              <direct name="direct3" input="fle.clk" output="lut5inter.clk"/>
            </interconnect>
          </mode> 
          <!-- Dual 5-LUT mode definition end -->
          <!-- 6-LUT mode definition begin -->
          <mode name="n1_lut6">
            <!-- Define 6-LUT mode -->
            <pb_type name="ble6" num_pb="1">
              <input name="in" num_pins="6"/>
              <output name="out" num_pins="1"/>
              <clock name="clk" num_pins="1"/> 
              <pb_type name="lut6" blif_model=".names" num_pb="1" class="lut">
                <input name="in" num_pins="6" port_class="lut_in"/>
                <output name="out" num_pins="1" port_class="lut_out"/>
                <!-- LUT timing using delay matrix -->
                <delay_matrix type="max" in_port="lut6.in" out_port="lut6.out">
                    82e-12
                    173e-12
                    261e-12
                    263e-12
                    398e-12
                    397e-12
                </delay_matrix>
              </pb_type>
              <pb_type name="ff" blif_model=".latch" num_pb="1" class="flipflop">
                <input name="D" num_pins="1" port_class="D"/>
                <output name="Q" num_pins="1" port_class="Q"/>
                <clock name="clk" num_pins="1" port_class="clock"/>
                <T_setup value="66e-12" port="ff.D" clock="clk"/>
                <T_clock_to_Q max="124e-12" port="ff.Q" clock="clk"/>
              </pb_type>

              <interconnect>
                <direct name="direct1" input="ble6.in" output="lut6[0:0].in"/>
                <direct name="direct2" input="lut6.out" output="ff.D">
                  <pack_pattern name="ble6" in_port="lut6.out" out_port="ff.D"/>
                </direct>
                <direct name="direct3" input="ble6.clk" output="ff.clk"/>                    
                <mux name="mux1" input="ff.Q lut6.out" output="ble6.out">
                  <delay_constant max="25e-12" in_port="lut6.out" out_port="ble6.out" />
                  <delay_constant max="45e-12" in_port="ff.Q" out_port="ble6.out" />
                </mux>
              </interconnect>
            </pb_type>
            <interconnect>
              <direct name="direct1" input="fle.in" output="ble6.in"/>
              <direct name="direct2" input="ble6.out" output="fle.out[0:0]"/>
              <direct name="direct3" input="fle.clk" output="ble6.clk"/>
            </interconnect>
          </mode>
          <!-- 6-LUT mode definition end -->
        </pb_type>
        <interconnect>
          <!-- We use a full crossbar to get logical equivalence at inputs of CLB -->
          <complete name="crossbar" input="clb.I fle[9:0].out" output="fle[9:0].in">
            <delay_constant max="167e-12" in_port="clb.I" out_port="fle[9:0].in" />
            <delay_constant max="157e-12" in_port="fle[9:0].out" out_port="fle[9:0].in" />
          </complete>
          <complete name="clks" input="clb.clk" output="fle[9:0].clk">
          </complete>

          <!-- This way of specifying direct connection to clb outputs is important because this architecture uses automatic spreading of opins.  
               By grouping to output pins in this fashion, if a logic block is completely filled by 6-LUTs, 
               then the outputs those 6-LUTs take get evenly distributed across all four sides of the CLB instead of clumped on two sides (which is what happens with a more
               naive specification).
          -->
          <direct name="clbouts1" input="fle[9:0].out[0:0]" output="clb.O[9:0]"/>
          <direct name="clbouts2" input="fle[9:0].out[1:1]" output="clb.O[19:10]"/>
        </interconnect>


        <fc default_in_type="frac" default_in_val="0.15" default_out_type="frac" default_out_val="0.10"/>

        <pinlocations pattern="spread"/>
        <gridlocations>
          <loc type="fill" priority="1"/>
        </gridlocations>
      </pb_type>
      <!-- Define general purpose logic block (CLB) ends -->

      <!-- Define fracturable multiplier begin -->
      <!-- This multiplier can operate as a 36x36 multiplier that can fracture to two 18x18 multipliers each of which can further fracture to two 9x9 multipliers 
           For delay modelling, the 36x36 DSP multiplier in Stratix IV has a delay of 1.523 ns. For the input and output interconnect delays, unlike Stratix IV, we don't
           have any routing/logic flexibility at the inputs or outputs of the multiplier.  At the same time, the delay to get in and out are not 0.  We take the conservative
           approach modelling the input as the same as the Stratix IV input delay and the output delay the same as the Stratix IV DSP out delay.
      -->
      <pb_type name="mult_36" height="4">
          <input name="a" num_pins="36"/>
          <input name="b" num_pins="36"/>
          <output name="out" num_pins="72"/>

          <mode name="two_divisible_mult_18x18">
            <pb_type name="divisible_mult_18x18" num_pb="2">
              <input name="a" num_pins="18"/>
              <input name="b" num_pins="18"/>
              <output name="out" num_pins="36"/>

              <mode name="two_mult_9x9">
                <pb_type name="mult_9x9_slice" num_pb="2">
                  <input name="A_cfg" num_pins="9"/>
                  <input name="B_cfg" num_pins="9"/>
                  <output name="OUT_cfg" num_pins="18"/>

                  <pb_type name="mult_9x9" blif_model=".subckt multiply" num_pb="1">
                    <input name="a" num_pins="9"/>
                    <input name="b" num_pins="9"/>
                    <output name="out" num_pins="18"/>
                    <delay_constant max="1.523e-9" in_port="mult_9x9.a" out_port="mult_9x9.out"/>
                    <delay_constant max="1.523e-9" in_port="mult_9x9.b" out_port="mult_9x9.out"/>
                  </pb_type>

                  <interconnect>
                    <direct name="a2a" input="mult_9x9_slice.A_cfg" output="mult_9x9.a">
                    </direct>
                    <direct name="b2b" input="mult_9x9_slice.B_cfg" output="mult_9x9.b">
                    </direct>
                    <direct name="out2out" input="mult_9x9.out" output="mult_9x9_slice.OUT_cfg">
                    </direct>
                  </interconnect>
                </pb_type>
                <interconnect>
                  <direct name="a2a" input="divisible_mult_18x18.a" output="mult_9x9_slice[1:0].A_cfg">
                  </direct>
                  <direct name="b2b" input="divisible_mult_18x18.b" output="mult_9x9_slice[1:0].B_cfg">
                  </direct>
                  <direct name="out2out" input="mult_9x9_slice[1:0].OUT_cfg" output="divisible_mult_18x18.out">
                  </direct>
                </interconnect>
              </mode>

              <mode name="mult_18x18">
                <pb_type name="mult_18x18_slice" num_pb="1">
                  <input name="A_cfg" num_pins="18"/>
                  <input name="B_cfg" num_pins="18"/>
                  <output name="OUT_cfg" num_pins="36"/>

                  <pb_type name="mult_18x18" blif_model=".subckt multiply" num_pb="1" >
                    <input name="a" num_pins="18"/>
                    <input name="b" num_pins="18"/>
                    <output name="out" num_pins="36"/>
                    <delay_constant max="1.523e-9" in_port="mult_18x18.a" out_port="mult_18x18.out"/>
                    <delay_constant max="1.523e-9" in_port="mult_18x18.b" out_port="mult_18x18.out"/>
                  </pb_type>

                  <interconnect>
                    <direct name="a2a" input="mult_18x18_slice.A_cfg" output="mult_18x18.a">
                    </direct>
                    <direct name="b2b" input="mult_18x18_slice.B_cfg" output="mult_18x18.b">
                    </direct>
                    <direct name="out2out" input="mult_18x18.out" output="mult_18x18_slice.OUT_cfg">
                    </direct>
                  </interconnect>
                </pb_type>
                <interconnect>
                  <direct name="a2a" input="divisible_mult_18x18.a" output="mult_18x18_slice.A_cfg">
                  </direct>
                  <direct name="b2b" input="divisible_mult_18x18.b" output="mult_18x18_slice.B_cfg">
                  </direct>
                  <direct name="out2out" input="mult_18x18_slice.OUT_cfg" output="divisible_mult_18x18.out">
                  </direct>
                </interconnect>
              </mode>
            </pb_type>
            <interconnect>
              <!-- Stratix IV input delay of 207ps is conservative for this architecture because this architecture does not have an input crossbar in the multiplier. 
                   We use a input delay of because the Stratix IV input delay includes connection box delay.
                   Stratix IV output delay of 1.09ns is also conservative for this architecture because this architecture has a much simpler output interconnect.
              -->
             <direct name="a2a" input="mult_36.a" output="divisible_mult_18x18[1:0].a">
                <delay_constant max="134e-12" in_port="mult_36.a" out_port="divisible_mult_18x18[1:0].a"/>
              </direct>
              <direct name="b2b" input="mult_36.b" output="divisible_mult_18x18[1:0].b">
                <delay_constant max="134e-12" in_port="mult_36.b" out_port="divisible_mult_18x18[1:0].b"/>
              </direct>
              <direct name="out2out" input="divisible_mult_18x18[1:0].out" output="mult_36.out">
                <delay_constant max="1.09e-9" in_port="divisible_mult_18x18[1:0].out" out_port="mult_36.out"/>
              </direct>
            </interconnect>
          </mode>

          <mode name="mult_36x36">
            <pb_type name="mult_36x36_slice" num_pb="1">
              <input name="A_cfg" num_pins="36"/>
              <input name="B_cfg" num_pins="36"/>
              <output name="OUT_cfg" num_pins="72"/>

              <pb_type name="mult_36x36" blif_model=".subckt multiply" num_pb="1">
                <input name="a" num_pins="36"/>
                <input name="b" num_pins="36"/>
                <output name="out" num_pins="72"/>
                <delay_constant max="1.523e-9" in_port="mult_36x36.a" out_port="mult_36x36.out"/>
                <delay_constant max="1.523e-9" in_port="mult_36x36.b" out_port="mult_36x36.out"/>
              </pb_type>

              <interconnect>
                <direct name="a2a" input="mult_36x36_slice.A_cfg" output="mult_36x36.a">
                </direct>
                <direct name="b2b" input="mult_36x36_slice.B_cfg" output="mult_36x36.b">
                </direct>
                <direct name="out2out" input="mult_36x36.out" output="mult_36x36_slice.OUT_cfg">
                </direct>
              </interconnect>
            </pb_type>
            <interconnect>
              <!-- Stratix IV input delay of 207ps is conservative for this architecture because this architecture does not have an input crossbar in the multiplier. 
                   We use a input delay of because the Stratix IV input delay includes connection box delay.
                   Stratix IV output delay of 1.09ns is also conservative for this architecture because this architecture has a much simpler output interconnect.
              -->
              <direct name="a2a" input="mult_36.a" output="mult_36x36_slice.A_cfg">
                <delay_constant max="134e-12" in_port="mult_36.a" out_port="mult_36x36_slice.A_cfg"/>
              </direct>
              <direct name="b2b" input="mult_36.b" output="mult_36x36_slice.B_cfg">
                <delay_constant max="134e-12" in_port="mult_36.b" out_port="mult_36x36_slice.B_cfg"/>
              </direct>
              <direct name="out2out" input="mult_36x36_slice.OUT_cfg" output="mult_36.out">
                <delay_constant max="1.09e-9" in_port="mult_36x36_slice.OUT_cfg" out_port="mult_36.out"/>
              </direct>
            </interconnect>
          </mode>

        <fc default_in_type="frac" default_in_val="0.15" default_out_type="frac" default_out_val="0.10"/>
        <pinlocations pattern="spread"/>

        <gridlocations>
          <loc type="col" start="6" repeat="8" priority="2"/>
        </gridlocations>
      </pb_type>
      <!-- Define fracturable multiplier end -->

      <!-- Define fracturable memory begin -->
      <!-- 32 Kb Memory that can operate from 512x64 to 32Kx1 for single-port mode and 1024x32 to 32Kx1 for dual-port mode.  
           Area and delay based off Stratix IV 9K and 144K memories (delay from linear interpolation, Tsu(483 ps, 636 ps) Tco(1084ps, 1969ps)).  
           Input delay = 204ps (from Stratix IV LAB line) - 72ps (this architecture does not lump connection box delay in internal delay)
           Output delay = M4K buffer 50ps
      -->
      <pb_type name="memory" height="6">
          <input name="addr1" num_pins="15"/>
          <input name="addr2" num_pins="15"/>
          <input name="data" num_pins="64"/>
          <input name="we1" num_pins="1"/>
          <input name="we2" num_pins="1"/>
          <output name="out" num_pins="64"/>
          <clock name="clk" num_pins="1"/>

          <mode name="mem_512x64_sp">
            <pb_type name="mem_512x64_sp" blif_model=".subckt single_port_ram" class="memory" num_pb="1">
              <input name="addr" num_pins="9" port_class="address"/>
              <input name="data" num_pins="64" port_class="data_in"/>
              <input name="we" num_pins="1" port_class="write_en"/>
              <output name="out" num_pins="64" port_class="data_out"/>
              <clock name="clk" num_pins="1" port_class="clock"/>
              <T_setup value="509e-12" port="mem_512x64_sp.addr" clock="clk"/>
              <T_setup value="509e-12" port="mem_512x64_sp.data" clock="clk"/>
              <T_setup value="509e-12" port="mem_512x64_sp.we" clock="clk"/>
              <T_clock_to_Q max="1.234e-9" port="mem_512x64_sp.out" clock="clk"/>
            </pb_type>
            <interconnect>
              <direct name="address1" input="memory.addr1[8:0]" output="mem_512x64_sp.addr">
                <delay_constant max="132e-12" in_port="memory.addr1[8:0]" out_port="mem_512x64_sp.addr">
              </direct>
              <direct name="data1" input="memory.data[63:0]" output="mem_512x64_sp.data">
                <delay_constant max="132e-12" in_port="memory.data[63:0]" out_port="mem_512x64_sp.data">
              </direct>
              <direct name="writeen1" input="memory.we1" output="mem_512x64_sp.we">
                <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_512x64_sp.we">
              </direct>
              <direct name="dataout1" input="mem_512x64_sp.out" output="memory.out[63:0]">
                <delay_constant max="40e-12" in_port="mem_512x64_sp.out" out_port="memory.out[63:0]">
              </direct>
              <direct name="clk" input="memory.clk" output="mem_512x64_sp.clk">
              </direct>
            </interconnect>
          </mode>
          
          <mode name="mem_1024x32_sp">
            <pb_type name="mem_1024x32_sp" blif_model=".subckt single_port_ram" class="memory" num_pb="1">
              <input name="addr" num_pins="10" port_class="address"/>
              <input name="data" num_pins="32" port_class="data_in"/>
              <input name="we" num_pins="1" port_class="write_en"/>
              <output name="out" num_pins="32" port_class="data_out"/>
              <clock name="clk" num_pins="1" port_class="clock"/>
              <T_setup value="509e-12" port="mem_1024x32_sp.addr" clock="clk"/>
              <T_setup value="509e-12" port="mem_1024x32_sp.data" clock="clk"/>
              <T_setup value="509e-12" port="mem_1024x32_sp.we" clock="clk"/>
              <T_clock_to_Q max="1.234e-9" port="mem_1024x32_sp.out" clock="clk"/>
            </pb_type>
            <interconnect>
              <direct name="address1" input="memory.addr1[9:0]" output="mem_1024x32_sp.addr">
                <delay_constant max="132e-12" in_port="memory.addr1[9:0]" out_port="mem_1024x32_sp.addr">
              </direct>
              <direct name="data1" input="memory.data[31:0]" output="mem_1024x32_sp.data">
                <delay_constant max="132e-12" in_port="memory.data[31:0]" out_port="mem_1024x32_sp.data">
              </direct>
              <direct name="writeen1" input="memory.we1" output="mem_1024x32_sp.we">
                <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_1024x32_sp.we">
              </direct>
              <direct name="dataout1" input="mem_1024x32_sp.out" output="memory.out[31:0]">
                <delay_constant max="40e-12" in_port="mem_1024x32_sp.out" out_port="memory.out[31:0]">
              </direct>
              <direct name="clk" input="memory.clk" output="mem_1024x32_sp.clk">
              </direct>
            </interconnect>
          </mode>

          
          <mode name="mem_2048x16_sp">
            <pb_type name="mem_2048x16_sp" blif_model=".subckt single_port_ram" class="memory" num_pb="1">
              <input name="addr" num_pins="11" port_class="address"/>
              <input name="data" num_pins="16" port_class="data_in"/>
              <input name="we" num_pins="1" port_class="write_en"/>
              <output name="out" num_pins="16" port_class="data_out"/>
              <clock name="clk" num_pins="1" port_class="clock"/>
              <T_setup value="509e-12" port="mem_2048x16_sp.addr" clock="clk"/>
              <T_setup value="509e-12" port="mem_2048x16_sp.data" clock="clk"/>
              <T_setup value="509e-12" port="mem_2048x16_sp.we" clock="clk"/>
              <T_clock_to_Q max="1.234e-9" port="mem_2048x16_sp.out" clock="clk"/>
            </pb_type>
            <interconnect>
              <direct name="address1" input="memory.addr1[10:0]" output="mem_2048x16_sp.addr">
                <delay_constant max="132e-12" in_port="memory.addr1[10:0]" out_port="mem_2048x16_sp.addr">
              </direct>
              <direct name="data1" input="memory.data[15:0]" output="mem_2048x16_sp.data">
                <delay_constant max="132e-12" in_port="memory.data[15:0]" out_port="mem_2048x16_sp.data">
              </direct>
              <direct name="writeen1" input="memory.we1" output="mem_2048x16_sp.we">
                <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_2048x16_sp.we">
              </direct>
              <direct name="dataout1" input="mem_2048x16_sp.out" output="memory.out[15:0]">
                <delay_constant max="40e-12" in_port="mem_2048x16_sp.out" out_port="memory.out[15:0]">
              </direct>
              <direct name="clk" input="memory.clk" output="mem_2048x16_sp.clk">
              </direct>
            </interconnect>
          </mode>

          <mode name="mem_4096x8_sp">
            <pb_type name="mem_4096x8_sp" blif_model=".subckt single_port_ram" class="memory" num_pb="1">
              <input name="addr" num_pins="12" port_class="address"/>
              <input name="data" num_pins="8" port_class="data_in"/>
              <input name="we" num_pins="1" port_class="write_en"/>
              <output name="out" num_pins="8" port_class="data_out"/>
              <clock name="clk" num_pins="1" port_class="clock"/>
              <T_setup value="509e-12" port="mem_4096x8_sp.addr" clock="clk"/>
              <T_setup value="509e-12" port="mem_4096x8_sp.data" clock="clk"/>
              <T_setup value="509e-12" port="mem_4096x8_sp.we" clock="clk"/>
              <T_clock_to_Q max="1.234e-9" port="mem_4096x8_sp.out" clock="clk"/>
            </pb_type>
            <interconnect>
              <direct name="address1" input="memory.addr1[11:0]" output="mem_4096x8_sp.addr">
                <delay_constant max="132e-12" in_port="memory.addr1[11:0]" out_port="mem_4096x8_sp.addr">
              </direct>
              <direct name="data1" input="memory.data[7:0]" output="mem_4096x8_sp.data">
                <delay_constant max="132e-12" in_port="memory.data[7:0]" out_port="mem_4096x8_sp.data">
              </direct>
              <direct name="writeen1" input="memory.we1" output="mem_4096x8_sp.we">
                <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_4096x8_sp.we">
              </direct>
              <direct name="dataout1" input="mem_4096x8_sp.out" output="memory.out[7:0]">
                <delay_constant max="40e-12" in_port="mem_4096x8_sp.out" out_port="memory.out[7:0]">
              </direct>
              <direct name="clk" input="memory.clk" output="mem_4096x8_sp.clk">
              </direct>
            </interconnect>
          </mode>
 
          <mode name="mem_8192x4_sp">
            <pb_type name="mem_8192x4_sp" blif_model=".subckt single_port_ram" class="memory" num_pb="1">
              <input name="addr" num_pins="13" port_class="address"/>
              <input name="data" num_pins="4" port_class="data_in"/>
              <input name="we" num_pins="1" port_class="write_en"/>
              <output name="out" num_pins="4" port_class="data_out"/>
              <clock name="clk" num_pins="1" port_class="clock"/>
              <T_setup value="509e-12" port="mem_8192x4_sp.addr" clock="clk"/>
              <T_setup value="509e-12" port="mem_8192x4_sp.data" clock="clk"/>
              <T_setup value="509e-12" port="mem_8192x4_sp.we" clock="clk"/>
              <T_clock_to_Q max="1.234e-9" port="mem_8192x4_sp.out" clock="clk"/>
            </pb_type>
            <interconnect>
              <direct name="address1" input="memory.addr1[12:0]" output="mem_8192x4_sp.addr">
                <delay_constant max="132e-12" in_port="memory.addr1[12:0]" out_port="mem_8192x4_sp.addr">
              </direct>
              <direct name="data1" input="memory.data[3:0]" output="mem_8192x4_sp.data">
                <delay_constant max="132e-12" in_port="memory.data[3:0]" out_port="mem_8192x4_sp.data">
              </direct>
              <direct name="writeen1" input="memory.we1" output="mem_8192x4_sp.we">
                <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_8192x4_sp.we">
              </direct>
              <direct name="dataout1" input="mem_8192x4_sp.out" output="memory.out[3:0]">
                <delay_constant max="40e-12" in_port="mem_8192x4_sp.out" out_port="memory.out[3:0]">
              </direct>
              <direct name="clk" input="memory.clk" output="mem_8192x4_sp.clk">
              </direct>
            </interconnect>
          </mode>

          <mode name="mem_16384x2_sp">
            <pb_type name="mem_16384x2_sp" blif_model=".subckt single_port_ram" class="memory" num_pb="1">
              <input name="addr" num_pins="14" port_class="address"/>
              <input name="data" num_pins="2" port_class="data_in"/>
              <input name="we" num_pins="1" port_class="write_en"/>
              <output name="out" num_pins="2" port_class="data_out"/>
              <clock name="clk" num_pins="1" port_class="clock"/>
              <T_setup value="509e-12" port="mem_16384x2_sp.addr" clock="clk"/>
              <T_setup value="509e-12" port="mem_16384x2_sp.data" clock="clk"/>
              <T_setup value="509e-12" port="mem_16384x2_sp.we" clock="clk"/>
              <T_clock_to_Q max="1.234e-9" port="mem_16384x2_sp.out" clock="clk"/>
            </pb_type>
            <interconnect>
              <direct name="address1" input="memory.addr1[13:0]" output="mem_16384x2_sp.addr">
                <delay_constant max="132e-12" in_port="memory.addr1[13:0]" out_port="mem_16384x2_sp.addr">
              </direct>
              <direct name="data1" input="memory.data[1:0]" output="mem_16384x2_sp.data">
                <delay_constant max="132e-12" in_port="memory.data[1:0]" out_port="mem_16384x2_sp.data">
              </direct>
              <direct name="writeen1" input="memory.we1" output="mem_16384x2_sp.we">
                <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_16384x2_sp.we">
              </direct>
              <direct name="dataout1" input="mem_16384x2_sp.out" output="memory.out[1:0]">
                <delay_constant max="40e-12" in_port="mem_16384x2_sp.out" out_port="memory.out[1:0]">
              </direct>
              <direct name="clk" input="memory.clk" output="mem_16384x2_sp.clk">
              </direct>
            </interconnect>
          </mode>  
          
          <mode name="mem_32768x1_sp">
            <pb_type name="mem_32768x1_sp" blif_model=".subckt single_port_ram" class="memory" num_pb="1">
              <input name="addr" num_pins="15" port_class="address"/>
              <input name="data" num_pins="1" port_class="data_in"/>
              <input name="we" num_pins="1" port_class="write_en"/>
              <output name="out" num_pins="1" port_class="data_out"/>
              <clock name="clk" num_pins="1" port_class="clock"/>
              <T_setup value="509e-12" port="mem_32768x1_sp.addr" clock="clk"/>
              <T_setup value="509e-12" port="mem_32768x1_sp.data" clock="clk"/>
              <T_setup value="509e-12" port="mem_32768x1_sp.we" clock="clk"/>
              <T_clock_to_Q max="1.234e-9" port="mem_32768x1_sp.out" clock="clk"/>
            </pb_type>
            <interconnect>
              <direct name="address1" input="memory.addr1[14:0]" output="mem_32768x1_sp.addr">
                <delay_constant max="132e-12" in_port="memory.addr1[14:0]" out_port="mem_32768x1_sp.addr">
              </direct>
              <direct name="data1" input="memory.data[0:0]" output="mem_32768x1_sp.data">
                <delay_constant max="132e-12" in_port="memory.data[0:0]" out_port="mem_32768x1_sp.data">
              </direct>
              <direct name="writeen1" input="memory.we1" output="mem_32768x1_sp.we">
                <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_32768x1_sp.we">
              </direct>
              <direct name="dataout1" input="mem_32768x1_sp.out" output="memory.out[0:0]">
                <delay_constant max="40e-12" in_port="mem_32768x1_sp.out" out_port="memory.out[0:0]">
              </direct>
              <direct name="clk" input="memory.clk" output="mem_32768x1_sp.clk">
              </direct>
            </interconnect>
          </mode> 
                   
          <mode name="mem_1024x32_dp">
            <pb_type name="mem_1024x32_dp" blif_model=".subckt dual_port_ram" class="memory" num_pb="1">
              <input name="addr1" num_pins="10" port_class="address1"/>
              <input name="addr2" num_pins="10" port_class="address2"/>
              <input name="data1" num_pins="32" port_class="data_in1"/>
              <input name="data2" num_pins="32" port_class="data_in2"/>
              <input name="we1" num_pins="1" port_class="write_en1"/>
              <input name="we2" num_pins="1" port_class="write_en2"/>
              <output name="out1" num_pins="32" port_class="data_out1"/>
              <output name="out2" num_pins="32" port_class="data_out2"/>
              <clock name="clk" num_pins="1" port_class="clock"/>
              <T_setup value="509e-12" port="mem_1024x32_dp.addr1" clock="clk"/>
              <T_setup value="509e-12" port="mem_1024x32_dp.data1" clock="clk"/>
              <T_setup value="509e-12" port="mem_1024x32_dp.we1" clock="clk"/>
              <T_setup value="509e-12" port="mem_1024x32_dp.addr2" clock="clk"/>
              <T_setup value="509e-12" port="mem_1024x32_dp.data2" clock="clk"/>
              <T_setup value="509e-12" port="mem_1024x32_dp.we2" clock="clk"/>
              <T_clock_to_Q max="1.234e-9" port="mem_1024x32_dp.out1" clock="clk"/>
              <T_clock_to_Q max="1.234e-9" port="mem_1024x32_dp.out2" clock="clk"/>
            </pb_type>
            <interconnect>
              <direct name="address1" input="memory.addr1[9:0]" output="mem_1024x32_dp.addr1">
                <delay_constant max="132e-12" in_port="memory.addr1[9:0]" out_port="mem_1024x32_dp.addr1">
              </direct>
              <direct name="address2" input="memory.addr2[9:0]" output="mem_1024x32_dp.addr2">
                <delay_constant max="132e-12" in_port="memory.addr2[9:0]" out_port="mem_1024x32_dp.addr2">
              </direct>
              <direct name="data1" input="memory.data[31:0]" output="mem_1024x32_dp.data1">
                <delay_constant max="132e-12" in_port="memory.data[31:0]" out_port="mem_1024x32_dp.data1">
              </direct>
              <direct name="data2" input="memory.data[63:32]" output="mem_1024x32_dp.data2">
                <delay_constant max="132e-12" in_port="memory.data[63:32]" out_port="mem_1024x32_dp.data2">
              </direct>
              <direct name="writeen1" input="memory.we1" output="mem_1024x32_dp.we1">
                <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_1024x32_dp.we1">
              </direct>
              <direct name="writeen2" input="memory.we2" output="mem_1024x32_dp.we2">
                <delay_constant max="132e-12" in_port="memory.we2" out_port="mem_1024x32_dp.we2">
              </direct>
              <direct name="dataout1" input="mem_1024x32_dp.out1" output="memory.out[31:0]">
                <delay_constant max="40e-12" in_port="mem_1024x32_dp.out1" out_port="memory.out[31:0]">
              </direct>
              <direct name="dataout2" input="mem_1024x32_dp.out2" output="memory.out[63:32]">
                <delay_constant max="40e-12" in_port="mem_1024x32_dp.out2" out_port="memory.out[63:32]">
              </direct>
              <direct name="clk" input="memory.clk" output="mem_1024x32_dp.clk">
              </direct>
            </interconnect>
          </mode>
          
          <mode name="mem_2048x16_dp">
            <pb_type name="mem_2048x16_dp" blif_model=".subckt dual_port_ram" class="memory" num_pb="1">
              <input name="addr1" num_pins="11" port_class="address1"/>
              <input name="addr2" num_pins="11" port_class="address2"/>
              <input name="data1" num_pins="16" port_class="data_in1"/>
              <input name="data2" num_pins="16" port_class="data_in2"/>
              <input name="we1" num_pins="1" port_class="write_en1"/>
              <input name="we2" num_pins="1" port_class="write_en2"/>
              <output name="out1" num_pins="16" port_class="data_out1"/>
              <output name="out2" num_pins="16" port_class="data_out2"/>
              <clock name="clk" num_pins="1" port_class="clock"/>
              <T_setup value="509e-12" port="mem_2048x16_dp.addr1" clock="clk"/>
              <T_setup value="509e-12" port="mem_2048x16_dp.data1" clock="clk"/>
              <T_setup value="509e-12" port="mem_2048x16_dp.we1" clock="clk"/>
              <T_setup value="509e-12" port="mem_2048x16_dp.addr2" clock="clk"/>
              <T_setup value="509e-12" port="mem_2048x16_dp.data2" clock="clk"/>
              <T_setup value="509e-12" port="mem_2048x16_dp.we2" clock="clk"/>
              <T_clock_to_Q max="1.234e-9" port="mem_2048x16_dp.out1" clock="clk"/>
              <T_clock_to_Q max="1.234e-9" port="mem_2048x16_dp.out2" clock="clk"/>
            </pb_type>
            <interconnect>
              <direct name="address1" input="memory.addr1[10:0]" output="mem_2048x16_dp.addr1">
                <delay_constant max="132e-12" in_port="memory.addr1[10:0]" out_port="mem_2048x16_dp.addr1">
              </direct>
              <direct name="address2" input="memory.addr2[10:0]" output="mem_2048x16_dp.addr2">
                <delay_constant max="132e-12" in_port="memory.addr2[10:0]" out_port="mem_2048x16_dp.addr2">
              </direct>
              <direct name="data1" input="memory.data[15:0]" output="mem_2048x16_dp.data1">
                <delay_constant max="132e-12" in_port="memory.data[15:0]" out_port="mem_2048x16_dp.data1">
              </direct>
              <direct name="data2" input="memory.data[31:16]" output="mem_2048x16_dp.data2">
                <delay_constant max="132e-12" in_port="memory.data[31:16]" out_port="mem_2048x16_dp.data2">
              </direct>
              <direct name="writeen1" input="memory.we1" output="mem_2048x16_dp.we1">
                <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_2048x16_dp.we1">
              </direct>
              <direct name="writeen2" input="memory.we2" output="mem_2048x16_dp.we2">
                <delay_constant max="132e-12" in_port="memory.we2" out_port="mem_2048x16_dp.we2">
              </direct>
              <direct name="dataout1" input="mem_2048x16_dp.out1" output="memory.out[15:0]">
                <delay_constant max="40e-12" in_port="mem_2048x16_dp.out1" out_port="memory.out[15:0]">
              </direct>
              <direct name="dataout2" input="mem_2048x16_dp.out2" output="memory.out[31:16]">
                <delay_constant max="40e-12" in_port="mem_2048x16_dp.out2" out_port="memory.out[31:16]">
              </direct>
              <direct name="clk" input="memory.clk" output="mem_2048x16_dp.clk">
              </direct>
            </interconnect>
          </mode>
          
          <mode name="mem_2048x8_dp">
            <pb_type name="mem_2048x8_dp" blif_model=".subckt dual_port_ram" class="memory" num_pb="1">
              <input name="addr1" num_pins="12" port_class="address1"/>
              <input name="addr2" num_pins="12" port_class="address2"/>
              <input name="data1" num_pins="8" port_class="data_in1"/>
              <input name="data2" num_pins="8" port_class="data_in2"/>
              <input name="we1" num_pins="1" port_class="write_en1"/>
              <input name="we2" num_pins="1" port_class="write_en2"/>
              <output name="out1" num_pins="8" port_class="data_out1"/>
              <output name="out2" num_pins="8" port_class="data_out2"/>
              <clock name="clk" num_pins="1" port_class="clock"/>
              <T_setup value="509e-12" port="mem_2048x8_dp.addr1" clock="clk"/>
              <T_setup value="509e-12" port="mem_2048x8_dp.data1" clock="clk"/>
              <T_setup value="509e-12" port="mem_2048x8_dp.we1" clock="clk"/>
              <T_setup value="509e-12" port="mem_2048x8_dp.addr2" clock="clk"/>
              <T_setup value="509e-12" port="mem_2048x8_dp.data2" clock="clk"/>
              <T_setup value="509e-12" port="mem_2048x8_dp.we2" clock="clk"/>
              <T_clock_to_Q max="1.234e-9" port="mem_2048x8_dp.out1" clock="clk"/>
              <T_clock_to_Q max="1.234e-9" port="mem_2048x8_dp.out2" clock="clk"/>
            </pb_type>
            <interconnect>
              <direct name="address1" input="memory.addr1[11:0]" output="mem_2048x8_dp.addr1">
                <delay_constant max="132e-12" in_port="memory.addr1[11:0]" out_port="mem_2048x8_dp.addr1">
              </direct>
              <direct name="address2" input="memory.addr2[11:0]" output="mem_2048x8_dp.addr2">
                <delay_constant max="132e-12" in_port="memory.addr2[11:0]" out_port="mem_2048x8_dp.addr2">
              </direct>
              <direct name="data1" input="memory.data[7:0]" output="mem_2048x8_dp.data1">
                <delay_constant max="132e-12" in_port="memory.data[7:0]" out_port="mem_2048x8_dp.data1">
              </direct>
              <direct name="data2" input="memory.data[15:8]" output="mem_2048x8_dp.data2">
                <delay_constant max="132e-12" in_port="memory.data[15:8]" out_port="mem_2048x8_dp.data2">
              </direct>
              <direct name="writeen1" input="memory.we1" output="mem_2048x8_dp.we1">
                <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_2048x8_dp.we1">
              </direct>
              <direct name="writeen2" input="memory.we2" output="mem_2048x8_dp.we2">
                <delay_constant max="132e-12" in_port="memory.we2" out_port="mem_2048x8_dp.we2">
              </direct>
              <direct name="dataout1" input="mem_2048x8_dp.out1" output="memory.out[7:0]">
                <delay_constant max="40e-12" in_port="mem_2048x8_dp.out1" out_port="memory.out[7:0]">
              </direct>
              <direct name="dataout2" input="mem_2048x8_dp.out2" output="memory.out[15:8]">
                <delay_constant max="40e-12" in_port="mem_2048x8_dp.out2" out_port="memory.out[15:8]">
              </direct>
              <direct name="clk" input="memory.clk" output="mem_2048x8_dp.clk">
              </direct>
            </interconnect>
          </mode>
          <mode name="mem_8192x4_dp">
            <pb_type name="mem_8192x4_dp" blif_model=".subckt dual_port_ram" class="memory" num_pb="1">
              <input name="addr1" num_pins="13" port_class="address1"/>
              <input name="addr2" num_pins="13" port_class="address2"/>
              <input name="data1" num_pins="4" port_class="data_in1"/>
              <input name="data2" num_pins="4" port_class="data_in2"/>
              <input name="we1" num_pins="1" port_class="write_en1"/>
              <input name="we2" num_pins="1" port_class="write_en2"/>
              <output name="out1" num_pins="4" port_class="data_out1"/>
              <output name="out2" num_pins="4" port_class="data_out2"/>
              <clock name="clk" num_pins="1" port_class="clock"/>
              <T_setup value="509e-12" port="mem_8192x4_dp.addr1" clock="clk"/>
              <T_setup value="509e-12" port="mem_8192x4_dp.data1" clock="clk"/>
              <T_setup value="509e-12" port="mem_8192x4_dp.we1" clock="clk"/>
              <T_setup value="509e-12" port="mem_8192x4_dp.addr2" clock="clk"/>
              <T_setup value="509e-12" port="mem_8192x4_dp.data2" clock="clk"/>
              <T_setup value="509e-12" port="mem_8192x4_dp.we2" clock="clk"/>
              <T_clock_to_Q max="1.234e-9" port="mem_8192x4_dp.out1" clock="clk"/>
              <T_clock_to_Q max="1.234e-9" port="mem_8192x4_dp.out2" clock="clk"/>
            </pb_type>
            <interconnect>
              <direct name="address1" input="memory.addr1[12:0]" output="mem_8192x4_dp.addr1">
                <delay_constant max="132e-12" in_port="memory.addr1[12:0]" out_port="mem_8192x4_dp.addr1">
              </direct>
              <direct name="address2" input="memory.addr2[12:0]" output="mem_8192x4_dp.addr2">
                <delay_constant max="132e-12" in_port="memory.addr2[12:0]" out_port="mem_8192x4_dp.addr2">
              </direct>
              <direct name="data1" input="memory.data[3:0]" output="mem_8192x4_dp.data1">
                <delay_constant max="132e-12" in_port="memory.data[3:0]" out_port="mem_8192x4_dp.data1">
              </direct>
              <direct name="data2" input="memory.data[7:4]" output="mem_8192x4_dp.data2">
                <delay_constant max="132e-12" in_port="memory.data[7:4]" out_port="mem_8192x4_dp.data2">
              </direct>
              <direct name="writeen1" input="memory.we1" output="mem_8192x4_dp.we1">
                <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_8192x4_dp.we1">
              </direct>
              <direct name="writeen2" input="memory.we2" output="mem_8192x4_dp.we2">
                <delay_constant max="132e-12" in_port="memory.we2" out_port="mem_8192x4_dp.we2">
              </direct>
              <direct name="dataout1" input="mem_8192x4_dp.out1" output="memory.out[3:0]">
                <delay_constant max="40e-12" in_port="mem_8192x4_dp.out1" out_port="memory.out[3:0]">
              </direct>
              <direct name="dataout2" input="mem_8192x4_dp.out2" output="memory.out[7:4]">
                <delay_constant max="40e-12" in_port="mem_8192x4_dp.out2" out_port="memory.out[7:4]">
              </direct>
              <direct name="clk" input="memory.clk" output="mem_8192x4_dp.clk">
              </direct>
            </interconnect>
          </mode>
          <mode name="mem_16384x2_dp">
            <pb_type name="mem_16384x2_dp" blif_model=".subckt dual_port_ram" class="memory" num_pb="1">
              <input name="addr1" num_pins="14" port_class="address1"/>
              <input name="addr2" num_pins="14" port_class="address2"/>
              <input name="data1" num_pins="2" port_class="data_in1"/>
              <input name="data2" num_pins="2" port_class="data_in2"/>
              <input name="we1" num_pins="1" port_class="write_en1"/>
              <input name="we2" num_pins="1" port_class="write_en2"/>
              <output name="out1" num_pins="2" port_class="data_out1"/>
              <output name="out2" num_pins="2" port_class="data_out2"/>
              <clock name="clk" num_pins="1" port_class="clock"/>
              <T_setup value="509e-12" port="mem_16384x2_dp.addr1" clock="clk"/>
              <T_setup value="509e-12" port="mem_16384x2_dp.data1" clock="clk"/>
              <T_setup value="509e-12" port="mem_16384x2_dp.we1" clock="clk"/>
              <T_setup value="509e-12" port="mem_16384x2_dp.addr2" clock="clk"/>
              <T_setup value="509e-12" port="mem_16384x2_dp.data2" clock="clk"/>
              <T_setup value="509e-12" port="mem_16384x2_dp.we2" clock="clk"/>
              <T_clock_to_Q max="1.234e-9" port="mem_16384x2_dp.out1" clock="clk"/>
              <T_clock_to_Q max="1.234e-9" port="mem_16384x2_dp.out2" clock="clk"/>
            </pb_type>
            <interconnect>
              <direct name="address1" input="memory.addr1[13:0]" output="mem_16384x2_dp.addr1">
                <delay_constant max="132e-12" in_port="memory.addr1[13:0]" out_port="mem_16384x2_dp.addr1">
              </direct>
              <direct name="address2" input="memory.addr2[13:0]" output="mem_16384x2_dp.addr2">
                <delay_constant max="132e-12" in_port="memory.addr2[13:0]" out_port="mem_16384x2_dp.addr2">
              </direct>
              <direct name="data1" input="memory.data[1:0]" output="mem_16384x2_dp.data1">
                <delay_constant max="132e-12" in_port="memory.data[1:0]" out_port="mem_16384x2_dp.data1">
              </direct>
              <direct name="data2" input="memory.data[3:2]" output="mem_16384x2_dp.data2">
                <delay_constant max="132e-12" in_port="memory.data[3:2]" out_port="mem_16384x2_dp.data2">
              </direct>
              <direct name="writeen1" input="memory.we1" output="mem_16384x2_dp.we1">
                <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_16384x2_dp.we1">
              </direct>
              <direct name="writeen2" input="memory.we2" output="mem_16384x2_dp.we2">
                <delay_constant max="132e-12" in_port="memory.we2" out_port="mem_16384x2_dp.we2">
              </direct>
              <direct name="dataout1" input="mem_16384x2_dp.out1" output="memory.out[1:0]">
                <delay_constant max="40e-12" in_port="mem_16384x2_dp.out1" out_port="memory.out[1:0]">
              </direct>
              <direct name="dataout2" input="mem_16384x2_dp.out2" output="memory.out[3:2]">
                <delay_constant max="40e-12" in_port="mem_16384x2_dp.out2" out_port="memory.out[3:2]">
              </direct>
              <direct name="clk" input="memory.clk" output="mem_16384x2_dp.clk">
              </direct>
            </interconnect>
          </mode>
          
          <mode name="mem_32768x1_dp">
            <pb_type name="mem_32768x1_dp" blif_model=".subckt dual_port_ram" class="memory" num_pb="1">
              <input name="addr1" num_pins="15" port_class="address1"/>
              <input name="addr2" num_pins="15" port_class="address2"/>
              <input name="data1" num_pins="1" port_class="data_in1"/>
              <input name="data2" num_pins="1" port_class="data_in2"/>
              <input name="we1" num_pins="1" port_class="write_en1"/>
              <input name="we2" num_pins="1" port_class="write_en2"/>
              <output name="out1" num_pins="1" port_class="data_out1"/>
              <output name="out2" num_pins="1" port_class="data_out2"/>
              <clock name="clk" num_pins="1" port_class="clock"/>
              <T_setup value="509e-12" port="mem_32768x1_dp.addr1" clock="clk"/>
              <T_setup value="509e-12" port="mem_32768x1_dp.data1" clock="clk"/>
              <T_setup value="509e-12" port="mem_32768x1_dp.we1" clock="clk"/>
              <T_setup value="509e-12" port="mem_32768x1_dp.addr2" clock="clk"/>
              <T_setup value="509e-12" port="mem_32768x1_dp.data2" clock="clk"/>
              <T_setup value="509e-12" port="mem_32768x1_dp.we2" clock="clk"/>
              <T_clock_to_Q max="1.234e-9" port="mem_32768x1_dp.out1" clock="clk"/>
              <T_clock_to_Q max="1.234e-9" port="mem_32768x1_dp.out2" clock="clk"/>
            </pb_type>
            <interconnect>
              <direct name="address1" input="memory.addr1[14:0]" output="mem_32768x1_dp.addr1">
                <delay_constant max="132e-12" in_port="memory.addr1[14:0]" out_port="mem_32768x1_dp.addr1">
              </direct>
              <direct name="address2" input="memory.addr2[14:0]" output="mem_32768x1_dp.addr2">
                <delay_constant max="132e-12" in_port="memory.addr2[14:0]" out_port="mem_32768x1_dp.addr2">
              </direct>
              <direct name="data1" input="memory.data[0:0]" output="mem_32768x1_dp.data1">
                <delay_constant max="132e-12" in_port="memory.data[0:0]" out_port="mem_32768x1_dp.data1">
              </direct>
              <direct name="data2" input="memory.data[1:1]" output="mem_32768x1_dp.data2">
                <delay_constant max="132e-12" in_port="memory.data[1:1]" out_port="mem_32768x1_dp.data2">
              </direct>
              <direct name="writeen1" input="memory.we1" output="mem_32768x1_dp.we1">
                <delay_constant max="132e-12" in_port="memory.we1" out_port="mem_32768x1_dp.we1">
              </direct>
              <direct name="writeen2" input="memory.we2" output="mem_32768x1_dp.we2">
                <delay_constant max="132e-12" in_port="memory.we2" out_port="mem_32768x1_dp.we2">
              </direct>
              <direct name="dataout1" input="mem_32768x1_dp.out1" output="memory.out[0:0]">
                <delay_constant max="40e-12" in_port="mem_32768x1_dp.out1" out_port="memory.out[0:0]">
              </direct>
              <direct name="dataout2" input="mem_32768x1_dp.out2" output="memory.out[1:1]">
                <delay_constant max="40e-12" in_port="mem_32768x1_dp.out2" out_port="memory.out[1:1]">
              </direct>
              <direct name="clk" input="memory.clk" output="mem_32768x1_dp.clk">
              </direct>
            </interconnect>
          </mode>

        <fc default_in_type="frac" default_in_val="0.15" default_out_type="frac" default_out_val="0.10"/>
        <pinlocations pattern="spread"/>
        <gridlocations>
          <loc type="col" start="2" repeat="8" priority="2"/>
        </gridlocations>
      </pb_type>
      <!-- Define fracturable memory end -->


    </complexblocklist>
  </architecture>
